function copyToClipboard() {
  var oTable = document.getElementById('cveInfo');
  var rowLength = oTable.rows.length;
  var text = ""
  for (i = 0; i < rowLength; i++){
    var oCells = oTable.rows.item(i).cells;
    var attribute = oCells.item(0).innerHTML;
    var value = oCells.item(1).innerHTML;
    
    var toAdd = attribute + ": \t" + value;
    text = text + toAdd + "\n";
  }
  text = text.replace("Copy to Clipboard", "");
  text = text.replace(/<\/?[^>]+(>|$)/g, "");
  text = text.replace(/\n\s+\n/g, "\n");
  text = text.trim();
  return text;
}

jQuery(document).ready(function() {
  jQuery('.colfield').on('click', function (event) {
    if (event.target !== this) return;
    event.preventDefault();
    $(this).toggleClass("semiCollapsed");
  })
});

$(document).ready(function() {
  var client = new ZeroClipboard($("#copy-button"), {
      moviePath: "/static/js/ZeroClipboard.swf"
    });
  client.setText(copyToClipboard());
});
